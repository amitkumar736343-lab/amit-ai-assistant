<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Shivam AI Ultimate ğŸ˜ˆğŸ”¥</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<style>
body.dark{background:#0f172a;color:white}
.typing{animation:blink 1s infinite}
@keyframes blink{0%{opacity:.3}50%{opacity:1}100%{opacity:.3}}
</style>
</head>
<body class="bg-gray-100 transition"><!-- HEADER --><div class="bg-white shadow p-3 flex justify-between items-center">
<button id="menuBtn">â˜°</button>
<b>Shivam AI Ultimate ğŸ¤–ğŸ”¥</b>
<div class="flex gap-2">
<button id="settingBtn">âš™ï¸</button>
<button id="darkBtn">ğŸŒ™</button>
</div>
</div><!-- SIDEBAR --><div id="sidebar" class="fixed left-0 top-0 w-72 h-full bg-white shadow transform -translate-x-full transition z-50 overflow-auto">
<div class="p-4 space-y-3">
<button id="newChat" class="bg-gray-200 w-full p-3 rounded">â• New Chat</button>
<div id="chatList" class="space-y-2"></div>
</div>
</div>
<div id="overlay" class="hidden fixed inset-0 bg-black/30 z-40"></div><!-- SETTINGS --><div id="settings" class="hidden fixed inset-0 bg-black/40 flex items-center justify-center z-50">
<div class="bg-white p-5 rounded-xl w-72 space-y-3">
<h2 class="font-bold">âš™ï¸ Settings</h2>
<button id="clearChat" class="bg-red-200 w-full p-2 rounded">Clear Chat</button>
<button id="closeSettings" class="bg-gray-200 w-full p-2 rounded">Close</button>
</div>
</div><!-- CHAT --><div id="chatArea" class="max-w-3xl mx-auto p-4 pb-40 space-y-4"></div><!-- INPUT --><div class="fixed bottom-4 left-1/2 -translate-x-1/2 bg-white shadow-xl rounded-full flex gap-2 p-2 w-[96%] max-w-4xl">
<button id="plusBtn" class="bg-gray-200 px-3 rounded-full">â•</button>
<textarea id="prompt" placeholder="Ask anything..." class="flex-1 outline-none resize-none p-3 text-lg"></textarea>
<button id="micBtn" class="bg-gray-300 px-3 rounded-full">ğŸ¤</button>
<button id="imageBtn" class="bg-purple-500 text-white px-3 rounded-full">ğŸ–¼</button>
<button id="videoBtn" class="bg-pink-500 text-white px-3 rounded-full">ğŸ¬</button>
<button id="sendBtn" class="bg-blue-500 text-white px-4 rounded-full">â¤</button>
</div>
<input id="fileInput" type="file" hidden multiple><script>
document.addEventListener("DOMContentLoaded",()=>{

const area=document.getElementById("chatArea")
const promptBox=document.getElementById("prompt")
const list=document.getElementById("chatList")

// ===== CHAT SAVE =====
let chats=JSON.parse(localStorage.getItem("shivamUltimate")||"[]")
if(!chats.length) chats=[{id:Date.now(),name:"Chat 1",messages:[]}]
let active=chats[0].id

function act(){return chats.find(c=>c.id===active)}

function save(){
localStorage.setItem("shivamUltimate",JSON.stringify(chats))
renderSide()
}

function renderSide(){
list.innerHTML=""
chats.forEach(c=>{
let d=document.createElement("div")
d.className="border rounded p-2 cursor-pointer"
d.innerHTML=`${c.name}<div class='text-xs'>âœï¸Rename | ğŸ—‘Delete</div>`

d.onclick=()=>{active=c.id;render();toggleSide()}

d.ondblclick=()=>{
if(confirm("Delete Chat?")){
chats=chats.filter(x=>x.id!==c.id)
active=chats[0]?.id
save();render()
}}

d.oncontextmenu=e=>{
e.preventDefault()
let n=prompt("Rename Chat")
if(n){c.name=n;save()}
}

list.appendChild(d)
})
}

function add(role,text){
act().messages.push({role,text})
save();render()
}

function render(){
area.innerHTML=""
act().messages.forEach(m=>{
let div=document.createElement("div")
div.className=m.role==="user"?"text-right":""
let b=document.createElement("div")
b.className="inline-block bg-white shadow rounded p-3 max-w-xl"
b.innerHTML=marked.parse(m.text)
div.appendChild(b)
area.appendChild(div)
})
area.scrollTop=999999
}

// ===== IMAGE =====
function buildImage(p,r){
let w=1024,h=1024
if(r==2){w=1280;h=720}
if(r==3){w=720;h=1280}
if(r==4){w=768;h=1024}
let url=`https://image.pollinations.ai/prompt/${encodeURIComponent(p)}?width=${w}&height=${h}&seed=${Date.now()}`
add("assistant",`ğŸ–¼ Image:<br><img src='${url}' class='rounded mt-2 max-w-full'>`)
}

// ===== SEND =====
document.getElementById("sendBtn").onclick=async()=>{
let text=promptBox.value.trim()
if(!text)return
promptBox.value=""
add("user",text)

let lower=text.toLowerCase()

if(lower.includes("image")){
let r=prompt("Ratio 1 Square\n2 YouTube\n3 Shorts\n4 Portrait")
buildImage(text,r||1)
return
}

if(lower.includes("video")){
let r=prompt("Ratio 1 Square\n2 YouTube\n3 Shorts\n4 Portrait")
add("assistant","ğŸ¬ 8 Second Video : "+text+"<br>Ratio :"+r)
return
}

add("assistant","<span class='typing'>ğŸ¤– typing...</span>")

try{
let res=await fetch("https://text.pollinations.ai/"+encodeURIComponent(text))
let reply=await res.text()
add("assistant",reply)
speechSynthesis.speak(new SpeechSynthesisUtterance(reply))
}catch{
add("assistant","Offline")
}
}

// ENTER SEND
promptBox.onkeydown=e=>{
if(e.key==="Enter"&&!e.shiftKey){
e.preventDefault()
document.getElementById("sendBtn").click()
}}

// IMAGE BTN
imageBtn.onclick=()=>{
let p=prompt("Image Prompt")
if(!p)return
let r=prompt("Ratio 1 2 3 4")
buildImage(p,r||1)
}

// VIDEO BTN
videoBtn.onclick=()=>{
let p=prompt("Video Prompt")
if(!p)return
let r=prompt("Ratio 1 2 3 4")
add("assistant","ğŸ¬ Video : "+p+"<br>Ratio :"+r)
}

// FILE UPLOAD
plusBtn.onclick=()=>fileInput.click()
fileInput.onchange=()=>{
for(let f of fileInput.files){
let url=URL.createObjectURL(f)
add("assistant",`ğŸ“ <a href='${url}' target='_blank'>${f.name}</a>`)
}
}

// MIC
micBtn.onclick=()=>{
try{
let rec=new webkitSpeechRecognition()
rec.lang="hi-IN"
rec.start()
rec.onresult=e=>{
promptBox.value=e.results[0][0].transcript
document.getElementById("sendBtn").click()
}
}catch{}
}

// DARK MODE
darkBtn.onclick=()=>document.body.classList.toggle("dark")

// SETTINGS
settingBtn.onclick=()=>settings.classList.remove("hidden")
closeSettings.onclick=()=>settings.classList.add("hidden")
clearChat.onclick=()=>{act().messages=[];save();render()}

// NEW CHAT
newChat.onclick=()=>{
let id=Date.now()
chats.unshift({id,name:"New Chat",messages:[]})
active=id
save();render()
}

// SIDEBAR
function toggleSide(){
sidebar.classList.toggle("-translate-x-full")
overlay.classList.toggle("hidden")
}
menuBtn.onclick=toggleSide
overlay.onclick=toggleSide

renderSide()
render()

})
</script></body>
</html>
