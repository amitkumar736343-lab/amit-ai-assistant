<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>BROTHER GOD AI ðŸ˜ˆðŸ”¥</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

</head>

<body class="bg-gray-100">

<!-- HEADER -->

<div class="bg-white shadow p-3 flex justify-between">

<button onclick="toggleSide()">â˜°</button>

<div class="font-bold">

BROTHER GOD AI ðŸ¤–ðŸ”¥

</div>

<button onclick="toggleDark()">ðŸŒ™</button>

</div>


<!-- SIDEBAR -->

<div id="sidebar"
class="fixed left-0 top-0 w-72 h-full bg-white shadow
transform -translate-x-full transition z-50">

<div class="p-4">

<button onclick="newChat()"
class="bg-gray-200 rounded-full w-full p-3">

âž• New Chat

</button>

<div id="chatList" class="mt-5 space-y-2"></div>

</div>

</div>


<div id="overlay"
onclick="toggleSide()"
class="hidden fixed inset-0 bg-black/30 z-40"></div>


<!-- MAIN -->

<div class="flex flex-col items-center">

<div id="welcome" class="text-center mt-20">

<div
class="w-20 h-20 mx-auto rounded-2xl
bg-gradient-to-br from-blue-500 to-purple-500">

</div>

<h1
class="text-3xl mt-4 font-bold
bg-gradient-to-r from-blue-600 to-purple-600
bg-clip-text text-transparent">

Hello User

</h1>

<p class="text-gray-500">

How can I help you today?

</p>

</div>


<div id="chatArea"
class="w-full max-w-3xl p-4 space-y-4 pb-40">

</div>

</div>



<!-- INPUT -->

<div
class="fixed bottom-6 left-1/2 -translate-x-1/2
bg-white shadow rounded-full
flex gap-2 p-2
w-[95%] max-w-3xl">

<button id="plusBtn"
class="bg-gray-200 rounded-full px-4">

âž•

</button>

<textarea id="prompt"
placeholder="Ask anything..."
class="flex-1 outline-none p-2 resize-none"></textarea>

<button id="micBtn"
class="bg-gray-300 rounded-full px-4">

ðŸŽ¤

</button>

<button id="imageBtn"
class="bg-purple-500 text-white rounded-full px-4">

ðŸ–¼

</button>

<button id="videoBtn"
class="bg-pink-500 text-white rounded-full px-4">

ðŸŽ¬

</button>

<button id="send"
class="bg-blue-500 text-white rounded-full px-5">

âž¤

</button>

</div>

<input id="fileInput" type="file" hidden multiple>

<script>

document.addEventListener("DOMContentLoaded",()=>{

const area=chatArea
const promptBox=prompt
const list=chatList

let chats=
JSON.parse(localStorage.getItem("bro")||"[]")

if(!chats.length){

chats=[{id:Date.now(),messages:[]}]

}

let active=chats[0].id



function act(){

return chats.find(c=>c.id===active)

}



function save(){

localStorage.setItem("bro",
JSON.stringify(chats))

renderSide()

}



function renderSide(){

list.innerHTML=""

chats.forEach(c=>{

let d=document.createElement("div")

d.className=
"border p-2 rounded cursor-pointer"

d.innerText="Chat "+c.id

d.onclick=()=>{

active=c.id

render()

toggleSide()

}

list.appendChild(d)

})

}

renderSide()



function add(role,text){

welcome.style.display="none"

act().messages.push({role,text})

save()

render()

}



function render(){

area.innerHTML=""

act().messages.forEach(m=>{

let div=document.createElement("div")

div.className=
m.role==="user"?"text-right":""

let b=document.createElement("div")

b.className=
"inline-block bg-white p-3 shadow rounded max-w-xl"

b.innerHTML=marked.parse(m.text)

div.appendChild(b)

area.appendChild(div)

})

area.scrollTop=999999

}



async function typingReply(text){

let msg=""

let b=document.createElement("div")

b.className=
"bg-white p-3 shadow rounded inline-block"

area.appendChild(b)

for(let c of text){

msg+=c

b.innerHTML=
marked.parse(msg+" â–‹")

await new Promise(r=>setTimeout(r,15))

area.scrollTop=999999

}

b.innerHTML=marked.parse(msg)

}



// ENTER SEND

promptBox.onkeydown=e=>{

if(e.key==="Enter"&&!e.shiftKey){

e.preventDefault()

send.click()

}

}



// SEND CHAT

send.onclick=async()=>{

let text=promptBox.value.trim()

if(!text)return

promptBox.value=""

add("user",text)

add("assistant","ðŸ¤– Thinking...")

try{

let r=await fetch(

"https://patient-mountain-73cc.amitkumar736343.workers.dev/chat")

let d=await r.json()

await typingReply(

d.reply||"BROTHER GOD ðŸ˜ˆðŸ”¥")

speak(d.reply)

}

catch{

await typingReply(

"ðŸ”¥ Fallback reply : "+text)

}

}



// VOICE

micBtn.onclick=()=>{

try{

let r=
new webkitSpeechRecognition()

r.lang="en-US"

r.start()

r.onresult=e=>{

promptBox.value=
e.results[0][0].transcript

send.click()

}

}catch{

alert("Voice unsupported")

}

}



function speak(t){

try{

let s=
new SpeechSynthesisUtterance(t)

speechSynthesis.cancel()

speechSynthesis.speak(s)

}catch{}

}



// IMAGE

imageBtn.onclick=()=>{

let t=prompt("Image Prompt")

if(!t)return

let r=prompt(

"1 Square\n2 YouTube\n3 Shorts\n4 Portrait")

let w=1024,h=1024

if(r=="2"){w=1280;h=720}

if(r=="3"){w=720;h=1280}

if(r=="4"){w=768;h=1024}

let url=

`https://image.pollinations.ai/prompt/${encodeURIComponent(t)}?width=${w}&height=${h}`

add("assistant",

`![img](${url})

<button onclick="makeVideo('${url}')">

ðŸŽ¬ Make 8s Video

</button>`)

}



// VIDEO

videoBtn.onclick=()=>{

let t=prompt("Video Prompt")

add("assistant",

"ðŸŽ¬ Hollywood 8 Second Video:<br>"+t)

}



window.makeVideo=img=>{

add("assistant",

`<video autoplay loop controls
class="max-w-full">

<source src="${img}">

</video>

â­ 8 Second Loop Preview`)

}



// FILE UPLOAD

plusBtn.onclick=
()=>fileInput.click()

fileInput.onchange=()=>{

for(let f of fileInput.files){

let url=
URL.createObjectURL(f)

if(f.type.startsWith("image")){

add("assistant",

`ðŸ“· Image<br>
<img src="${url}"
class="rounded mt-2">`)

}

else if(f.type.startsWith("video")){

add("assistant",

`ðŸŽ¬ Video<br>
<video controls>

<source src="${url}">

</video>`)

}

else{

add("assistant",

`ðŸ“Ž File :

<a href="${url}"

target="_blank"

class="text-blue-500">

${f.name}

</a>`)

}

}

}



// DARK

window.toggleDark=()=>{

document.body.classList.toggle(

"bg-black")

document.body.classList.toggle(

"text-white")

}



// CHAT

window.newChat=()=>{

let id=Date.now()

chats.unshift({

id,

messages:[]

})

active=id

save()

render()

}



// SIDEBAR

window.toggleSide=()=>{

sidebar.classList.toggle(

"-translate-x-full")

overlay.classList.toggle(

"hidden")

}



render()

})

</script>

</body>
</html>
