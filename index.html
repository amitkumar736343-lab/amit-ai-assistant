<!-- ‚≠ê‚≠ê‚≠ê SHIVAM AI ULTIMATE FINAL ‚≠ê‚≠ê‚≠ê -->

<!-- (HEAD SAME ‡§∞‡§π‡•á‡§ó‡§æ ‡§ä‡§™‡§∞ ‡§ú‡•à‡§∏‡§æ ‡§π‡•à ‚Äî change ‡§®‡§π‡•Ä‡§Ç) -->

<script>

document.addEventListener("DOMContentLoaded",()=>{

const area=document.getElementById("chatArea")
const promptBox=document.getElementById("prompt")
const list=document.getElementById("chatList")

let chats=JSON.parse(localStorage.getItem("shivamUltimate")||"[]")

if(!chats.length)
chats=[{id:Date.now(),name:"Chat 1",messages:[]}]

let active=chats[0].id

function act(){
return chats.find(c=>c.id===active)
}

function save(){

localStorage.setItem(
"shivamUltimate",
JSON.stringify(chats))

renderSide()

}

function renderSide(){

list.innerHTML=""

chats.forEach(c=>{

let d=document.createElement("div")

d.className=
"border rounded p-2 cursor-pointer"

d.innerHTML=
`${c.name}
<div class='text-xs'>
‚úèÔ∏èRename | üóëDelete
</div>`

d.onclick=()=>{
active=c.id
render()
toggleSide()
}

d.ondblclick=()=>{

if(confirm("Delete Chat?")){

chats=
chats.filter(x=>x.id!==c.id)

active=chats[0]?.id

save()

render()

}

}

d.oncontextmenu=e=>{

e.preventDefault()

let n=prompt("Rename Chat")

if(n){

c.name=n

save()

}

}

list.appendChild(d)

})

}

function add(role,text){

act().messages.push({role,text})

save()

render()

}

function render(){

area.innerHTML=""

act().messages.forEach(m=>{

let div=document.createElement("div")

div.className=

m.role==="user"
?"text-right":""

let b=document.createElement("div")

b.className=

"inline-block bg-white shadow rounded p-3 max-w-xl"

b.innerHTML=

marked.parse(m.text)

div.appendChild(b)

area.appendChild(div)

})

area.scrollTop=999999

}



// ‚≠ê RATIO FUNCTION

function askRatio(){

let r=prompt(

"Select Ratio:\n\n"+
"1 Square (1:1)\n"+
"2 YouTube (16:9)\n"+
"3 Shorts (9:16)\n"+
"4 Portrait (3:4)"

)

return r||"1"

}



// ‚≠ê IMAGE BUILD

function buildImage(prompt,ratio){

let w=1024,h=1024

if(ratio==2){w=1280;h=720}

if(ratio==3){w=720;h=1280}

if(ratio==4){w=768;h=1024}

let url=

`https://image.pollinations.ai/prompt/${
encodeURIComponent(prompt)
}?width=${w}&height=${h}&seed=${Date.now()}`

add("assistant",

`üñº Generated Image :

<img src="${url}"
class="rounded mt-2 max-w-full">`)

}



// ‚≠ê SEND CHAT

sendBtn.onclick=async()=>{

let text=promptBox.value.trim()

if(!text)return

promptBox.value=""

add("user",text)

let lower=text.toLowerCase()



// IMAGE AUTO CHAT

if(lower.includes("image")){

let arr=text.split(" ")

let ratio=arr[arr.length-1]

if(isNaN(ratio))

ratio=askRatio()

buildImage(text,ratio)

return

}



// VIDEO AUTO CHAT

if(lower.includes("video")){

let arr=text.split(" ")

let ratio=arr[arr.length-1]

if(isNaN(ratio))

ratio=askRatio()

add("assistant",

"üé¨ 8 Second Cinematic Video :<br>"+

text+

"<br>Ratio :"+ratio)

return

}



add("assistant",

"<span class='typing'>ü§ñ typing...</span>")

try{

let res=

await fetch(

"https://text.pollinations.ai/"+
encodeURIComponent(text))

let reply=

await res.text()

add("assistant",reply)

speechSynthesis.speak(

new SpeechSynthesisUtterance(reply))

}

catch{

add("assistant","Offline")

}

}



// ENTER SEND

promptBox.onkeydown=e=>{

if(e.key==="Enter"&&!e.shiftKey){

e.preventDefault()

sendBtn.click()

}

}



// IMAGE BUTTON

imageBtn.onclick=()=>{

let p=prompt("Image Prompt")

if(!p)return

let r=askRatio()

buildImage(p,r)

}



// VIDEO BUTTON

videoBtn.onclick=()=>{

let p=prompt("Video Prompt")

if(!p)return

let r=askRatio()

add("assistant",

"üé¨ Video : "+p+

"<br>Ratio :"+r)

}



// FILE

plusBtn.onclick=
()=>fileInput.click()

fileInput.onchange=()=>{

for(let f of fileInput.files){

let url=
URL.createObjectURL(f)

add("assistant",

`üìé <a href="${url}"
target="_blank">

${f.name}

</a>`)

}

}



// MIC

micBtn.onclick=()=>{

try{

let rec=
new webkitSpeechRecognition()

rec.lang="hi-IN"

rec.start()

rec.onresult=e=>{

promptBox.value=
e.results[0][0].transcript

sendBtn.click()

}

}catch{}

}



// DARK

darkBtn.onclick=
()=>document.body.classList.toggle("dark")



// SETTINGS

settingBtn.onclick=
()=>settings.classList.remove("hidden")

closeSettings.onclick=
()=>settings.classList.add("hidden")

clearChat.onclick=()=>{

act().messages=[]

save()

render()

}



// NEW CHAT

newChat.onclick=()=>{

let id=Date.now()

chats.unshift({

id,
name:"New Chat",
messages:[]

})

active=id

save()

render()

}



// SIDEBAR

function toggleSide(){

sidebar.classList.toggle(
"-translate-x-full")

overlay.classList.toggle(
"hidden")

}

menuBtn.onclick=toggleSide

overlay.onclick=toggleSide



renderSide()

render()

})

</script>
