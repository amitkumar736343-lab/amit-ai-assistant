<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>BROTHER GOD AI ğŸ˜ˆğŸ”¥</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

</head>

<body class="bg-gray-100">

<!-- HEADER -->

<div class="bg-white shadow p-3 flex justify-between">

<button onclick="toggleSide()">â˜°</button>

<div class="font-bold">
BROTHER GOD AI ğŸ¤–ğŸ”¥
</div>

<button onclick="toggleDark()">ğŸŒ™</button>

</div>


<!-- SIDEBAR -->

<div id="sidebar"
class="fixed left-0 top-0 w-72 h-full bg-white shadow
transform -translate-x-full transition z-50">

<div class="p-4">

<button class="bg-gray-200 rounded-full w-full p-3">
â• New Chat
</button>

</div>

</div>

<div id="overlay"
onclick="toggleSide()"
class="hidden fixed inset-0 bg-black/30 z-40"></div>



<!-- CHAT -->

<div id="chatArea"
class="max-w-3xl mx-auto p-4 space-y-4 pb-40">

</div>



<!-- INPUT -->

<div
class="fixed bottom-6 left-1/2 -translate-x-1/2
bg-white shadow rounded-full
flex gap-2 p-2
w-[95%] max-w-3xl">

<button id="plusBtn"
class="bg-gray-200 rounded-full px-4">
â•
</button>

<textarea id="prompt"
placeholder="Ask anything..."
class="flex-1 outline-none p-2 resize-none">
</textarea>

<button id="micBtn"
class="bg-gray-300 rounded-full px-4">
ğŸ¤
</button>

<button id="imageBtn"
class="bg-purple-500 text-white rounded-full px-4">
ğŸ–¼
</button>

<button id="videoBtn"
class="bg-pink-500 text-white rounded-full px-4">
ğŸ¬
</button>

<button id="send"
class="bg-blue-500 text-white rounded-full px-5">
â¤
</button>

</div>

<input id="fileInput" type="file" hidden multiple>


<script>

document.addEventListener("DOMContentLoaded",()=>{

const area=document.getElementById("chatArea")

const promptBox=document.getElementById("prompt")

const send=document.getElementById("send")

const micBtn=document.getElementById("micBtn")

const plusBtn=document.getElementById("plusBtn")

const fileInput=document.getElementById("fileInput")

const imageBtn=document.getElementById("imageBtn")

const videoBtn=document.getElementById("videoBtn")



// MESSAGE

function add(role,text){

let div=document.createElement("div")

div.className=
role==="user"?"text-right":""

let bubble=document.createElement("div")

bubble.className=
"inline-block bg-white shadow rounded p-3 max-w-xl"

bubble.innerHTML=marked.parse(text)

div.appendChild(bubble)

area.appendChild(div)

area.scrollTop=999999

}



// â­ TYPING EFFECT

async function typingReply(text){

let msg=""

let div=document.createElement("div")

let bubble=document.createElement("div")

bubble.className=
"inline-block bg-white shadow rounded p-3 max-w-xl"

div.appendChild(bubble)

area.appendChild(div)

for(let c of text){

msg+=c

bubble.innerHTML=
marked.parse(msg+" â–‹")

await new Promise(r=>setTimeout(r,15))

area.scrollTop=999999

}

bubble.innerHTML=marked.parse(msg)

}



// ENTER SEND

promptBox.onkeydown=e=>{

if(e.key==="Enter"&&!e.shiftKey){

e.preventDefault()

send.click()

}

}



// â­â­â­ FINAL SEND CHAT (FIXED)

send.onclick=async()=>{

let text=promptBox.value.trim()

if(!text)return

promptBox.value=""

add("user",text)

add("assistant","ğŸ¤– Thinking...")


try{

let r=await fetch(

"https://patient-mountain-73cc.amitkumar736343.workers.dev/chat",

{

method:"POST",

headers:{

"Content-Type":"application/json"

},

body:JSON.stringify({

message:text

})

})

let d=await r.json()

await typingReply(

d.reply||

"ğŸ˜ˆ BROTHER GOD ONLINE")

speak(d.reply)

}

catch{

await typingReply(

"ğŸ”¥ API Connection Error")

}

}



// VOICE

micBtn.onclick=()=>{

try{

let rec=new webkitSpeechRecognition()

rec.lang="en-US"

rec.start()

rec.onresult=e=>{

promptBox.value=

e.results[0][0].transcript

send.click()

}

}catch{

alert("Voice Unsupported")

}

}



// SPEAK

function speak(t){

try{

let s=new SpeechSynthesisUtterance(t)

speechSynthesis.cancel()

speechSynthesis.speak(s)

}catch{}

}



// IMAGE

imageBtn.onclick=()=>{

let t=prompt("Image Prompt")

if(!t)return

let r=prompt(

"1 Square\n2 YouTube\n3 Shorts\n4 Portrait")

let w=1024,h=1024

if(r=="2"){w=1280;h=720}

if(r=="3"){w=720;h=1280}

if(r=="4"){w=768;h=1024}

let url=

`https://image.pollinations.ai/prompt/${encodeURIComponent(t)}?width=${w}&height=${h}`

add("assistant",`![img](${url})`)

}



// VIDEO

videoBtn.onclick=()=>{

let t=prompt("Video Prompt")

if(!t)return

add("assistant",

"ğŸ¬ 8 Second Cinematic Video Prompt : "+t)

}



// FILE

plusBtn.onclick=()=>fileInput.click()

fileInput.onchange=()=>{

for(let f of fileInput.files){

let url=URL.createObjectURL(f)

if(f.type.startsWith("image")){

add("assistant",

`ğŸ“· Image<br>

<img src="${url}"

class="rounded mt-2 max-w-full">`)

}

else if(f.type.startsWith("video")){

add("assistant",

`ğŸ¬ Video<br>

<video controls class="max-w-full">

<source src="${url}">

</video>`)

}

else{

add("assistant",

`ğŸ“ File :

<a href="${url}"

target="_blank"

class="text-blue-500">

${f.name}

</a>`)

}

}

}



// DARK MODE

window.toggleDark=()=>{

document.body.classList.toggle("bg-black")

document.body.classList.toggle("text-white")

}



// SIDEBAR

window.toggleSide=()=>{

document.getElementById("sidebar")

.classList.toggle("-translate-x-full")

document.getElementById("overlay")

.classList.toggle("hidden")

}

})

</script>

</body>
</html>
